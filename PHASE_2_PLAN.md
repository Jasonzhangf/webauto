# WebAuto 阶段 2: 功能完善 - 详细任务列表

## 2.1 UI 绘制增强 (Canvas & Graph)

### 2.1.1 DOM 树渲染性能优化
- **目标**: 提升大量 DOM 节点时的渲染帧率
- **任务**:
  - [ ] 实现 DOM 节点的虚拟滚动或可视区域渲染 (Culling)
  - [ ] 优化 SVG 元素创建，减少重绘重排
  - [ ] 缓存节点位置计算结果

### 2.1.2 容器-DOM 连线优化
- **目标**: 使连线更平滑、清晰，避免交叉混乱
- **任务**:
  - [ ] 使用贝塞尔曲线替代直线
  - [ ] 动态调整连线透明度（非选中时变淡）
  - [ ] 添加连线动画效果（选中时流光效果）

### 2.1.3 选中高亮效果
- **目标**: 增强选中状态的视觉反馈
- **任务**:
  - [ ] 容器选中高亮（边框发光、阴影）
  - [ ] DOM 节点选中高亮（颜色反转或加粗）
  - [ ] 关联高亮：选中容器时高亮对应的 DOM 节点，反之亦然

## 2.2 用户交互优化 (Interaction)

### 2.2.1 快捷键支持
- **目标**: 提升操作效率
- **任务**:
  - [ ] `Delete` / `Backspace`: 删除选中节点/操作
  - [ ] `Ctrl+S` / `Cmd+S`: 保存当前修改
  - [ ] `Ctrl+Z` / `Cmd+Z`: 撤销
  - [ ] `Ctrl+Shift+Z` / `Cmd+Shift+Z`: 重做
  - [ ] `Esc`: 取消选择/关闭面板

### 2.2.2 优化拖拽体验
- **目标**: 更自然的拖拽操作
- **任务**:
  - [ ] 实现 Canvas 画布的平滑拖拽（惯性滑动）
  - [ ] 限制拖拽边界
  - [ ] 拖拽时的视觉反馈（鼠标样式变化）

### 2.2.3 撤销/重做功能 (Undo/Redo)
- **目标**: 防止误操作
- **任务**:
  - [ ] 设计 Command 模式架构
  - [ ] 实现操作历史栈
  - [ ] 支持容器修改、操作修改的撤销重做

## 2.3 容器编辑完善 (Container Editor)

### 2.3.1 Operation 拖拽排序
- **目标**: 方便调整执行顺序
- **任务**:
  - [ ] 实现 Operation 列表项的拖拽排序
  - [ ] 拖拽时的占位提示
  - [ ] 拖拽结束后的数据更新

### 2.3.2 批量编辑功能
- **目标**: 提高编辑效率
- **任务**:
  - [ ] 支持多选 Operation
  - [ ] 批量启用/禁用
  - [ ] 批量删除

### 2.3.3 Operation 模板库
- **目标**: 复用常用配置
- **任务**:
  - [ ] 创建模板存储结构
  - [ ] 提供常用模板（如 "滚动到底部", "表单填写"）
  - [ ] 支持用户保存自定义模板

### 2.3.4 复制粘贴支持
- **目标**: 快速复用操作
- **任务**:
  - [ ] 复制 Operation 到剪贴板
  - [ ] 粘贴 Operation 到其他容器
  - [ ] 跨容器复制

## 执行顺序建议

1. **优先 (Priority 1):** 2.1.3 选中高亮, 2.3.1 拖拽排序, 2.2.1 快捷键
   - 直接影响用户体验和操作效率
2. **次优 (Priority 2):** 2.1.2 连线优化, 2.2.2 拖拽体验, 2.3.4 复制粘贴
   - 视觉和交互层面的提升
3. **完善 (Priority 3):** 2.1.1 性能优化, 2.2.3 撤销重做, 2.3.2 批量编辑, 2.3.3 模板库
   - 高级功能和性能保障

## 技术栈确认

- **渲染引擎**: SVG (目前使用) vs Canvas (未来可能迁移，暂时保持 SVG)
- **状态管理**: 简单对象状态 vs 引入状态库 (目前手动管理，考虑引入简单的 Store)
- **交互库**: 原生事件 vs 引入库 (如 Mousetrap 处理快捷键, SortableJS 处理排序)

