{
  "name": "1688登录预流（简化版）",
  "description": "简化的1688登录预流，去掉反风控节点",
  "version": "1.0.0",
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "开始", "next": ["init"] },
    {
      "id": "init",
      "type": "BrowserInitNode",
      "name": "浏览器初始化",
      "config": {
        "engine": "camoufox",
        "headless": false,
        "viewport": { "width": 1920, "height": 1080 },
        "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
        "strictAutomationMitigation": true,
        "extraHeaders": true,
        "launchArgs": [
          "--disable-blink-features=AutomationControlled",
          "--disable-web-security",
          "--disable-features=VizDisplayCompositor",
          "--no-first-run",
          "--disable-default-apps",
          "--disable-sync",
          "--metrics-recording-only",
          "--disable-default-browser-check",
          "--disable-background-networking",
          "--disable-background-timer-throttling",
          "--disable-renderer-backgrounding",
          "--disable-backgrounding-occluded-windows",
          "--disable-extensions",
          "--disable-plugins-discovery",
          "--disable-ipc-flooding-protection",
          "--shuffle-messagetypes",
          "--disable-gpu",
          "--disable-dev-shm-usage",
          "--no-sandbox",
          "--disable-setuid-sandbox",
          "--disable-features=TranslateUI",
          "--disable-features=Translate",
          "--lang=zh-CN",
          "--accept-lang=zh-CN,zh"
        ]
      },
      "next": ["wait_init"]
    },
    {
      "id": "wait_init",
      "type": "WaitNode",
      "name": "初始化抖动等待",
      "config": { "minMs": 1000, "maxMs": 2000 },
      "next": ["load_cookies"]
    },
    {
      "id": "load_cookies",
      "type": "CookieLoaderNode",
      "name": "加载Cookie",
      "config": {
        "cookieFile": "~/.webauto/cookies/1688-domestic.json",
        "ensureDomains": ["1688.com", "air.1688.com"]
      },
      "next": ["wait_load"]
    },
    {
      "id": "wait_load",
      "type": "WaitNode",
      "name": "加载后等待",
      "config": { "minMs": 500, "maxMs": 1500 },
      "next": ["pre_baidu"]
    },
    {
      "id": "pre_baidu",
      "type": "NavigationNode",
      "name": "访问预热网站建立会话",
      "config": {
        "url": "https://www.baidu.com/",
        "waitUntil": "domcontentloaded",
        "timeout": 15000
      },
      "next": ["wait_baidu"]
    },
    {
      "id": "wait_baidu",
      "type": "WaitNode",
      "name": "预热等待",
      "config": { "minMs": 2000, "maxMs": 4000 },
      "next": ["nav_1688"]
    },
    {
      "id": "nav_1688",
      "type": "NavigationNode",
      "name": "导航到主页",
      "config": {
        "url": "https://www.1688.com/",
        "waitUntil": "domcontentloaded",
        "timeout": 20000
      },
      "next": ["wait_1688"]
    },
    {
      "id": "wait_1688",
      "type": "WaitNode",
      "name": "主页稳定等待",
      "config": { "minMs": 2000, "maxMs": 3000 },
      "next": ["end_preflow"]
    },
    {
      "id": "end_preflow",
      "type": "EndNode",
      "name": "预流结束",
      "config": { "cleanup": false, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": false,
    "timeout": 180000
  }
}