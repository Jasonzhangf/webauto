{
  "name": "百度高级点击简化测试",
  "description": "验证AdvancedClickNode修复后的功能",
  "version": "1.0.0",
  "preflows": [],
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "开始", "next": ["init_browser"] },
    {
      "id": "init_browser",
      "type": "BrowserInitNode",
      "name": "初始化浏览器",
      "config": {
        "headless": false,
        "viewport": { "width": 1920, "height": 1080 },
        "userAgent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36",
        "timeout": 30000
      },
      "next": ["navigate_baidu"]
    },
    {
      "id": "navigate_baidu",
      "type": "NavigationNode",
      "name": "导航到百度首页",
      "config": {
        "url": "https://www.baidu.com",
        "waitUntil": "domcontentloaded",
        "timeout": 30000
      },
      "next": ["wait_baidu"]
    },
    {
      "id": "wait_baidu",
      "type": "WaitNode",
      "name": "等待百度首页加载",
      "config": { "minMs": 2000, "maxMs": 3000 },
      "next": ["test_click"]
    },
    {
      "id": "test_click",
      "type": "AdvancedClickNode",
      "name": "测试点击新闻链接",
      "config": {
        "selector": "a[href*=\"news.baidu.com\"]",
        "strategy": "auto",
        "clickMethods": ["playwright_click", "javascript_click"],
        "maxRetries": 1,
        "retryDelay": 500,
        "waitAfter": 2000,
        "timeout": 8000,
        "verifyVisibility": true,
        "scrollIntoView": true,
        "highlight": true,
        "highlightDuration": 1500,
        "verifyNavigation": false,
        "saveDebugInfo": true,
        "takeScreenshots": true,
        "logLevel": "info"
      },
      "next": ["verify_result"]
    },
    {
      "id": "verify_result",
      "type": "JavaScriptExecutionNode",
      "name": "验证点击结果",
      "config": {
        "script": "console.log('🔍 验证点击结果...');\n\nconst currentUrl = window.location.href;\nconst currentTitle = document.title;\n\n// 检查目标元素\nconst targetElement = document.querySelector('a[href*=\"news.baidu.com\"]');\nconst targetVisible = targetElement ? targetElement.offsetParent !== null : false;\n\nconsole.log('当前URL:', currentUrl);\nconsole.log('当前标题:', currentTitle);\nconsole.log('目标元素可见:', targetVisible);\n\nreturn {\n  success: true,\n  action: 'click_verified',\n  currentUrl: currentUrl,\n  currentTitle: currentTitle,\n  targetVisible: targetVisible,\n  timestamp: new Date().toISOString()\n};",
        "saveScreenshots": true
      },
      "next": ["end"]
    },
    {
      "id": "end",
      "type": "EndNode",
      "name": "结束",
      "config": { "cleanup": true, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": true,
    "parallelExecution": false,
    "timeout": 120000
  }
}