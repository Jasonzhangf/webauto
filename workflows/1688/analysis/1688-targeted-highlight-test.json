{
  "name": "1688é’ˆå¯¹æ€§é«˜äº®æµ‹è¯•",
  "description": "ä¸“é—¨é«˜äº®å‘ç°çš„æ—ºæ—ºå…ƒç´ å’Œå•†å®¶å®¹å™¨",
  "version": "1.0.0",
  "preflows": ["1688-login-preflow"],
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "å¼€å§‹", "next": ["attach"] },
    {
      "id": "attach",
      "type": "AttachSessionNode",
      "name": "ä¼šè¯æ¥åŠ›",
      "config": {},
      "next": ["navigate_search"]
    },
    {
      "id": "navigate_search",
      "type": "NavigationNode",
      "name": "å¯¼èˆªåˆ°æœç´¢ç»“æœé¡µ",
      "config": {
        "url": "https://s.1688.com/selloffer/offer_search.htm?keywords=%B7%FE%D7%B0",
        "waitUntil": "domcontentloaded",
        "timeout": 30000
      },
      "next": ["wait_search"]
    },
    {
      "id": "wait_search",
      "type": "WaitNode",
      "name": "ç­‰å¾…æœç´¢ç»“æœå®Œå…¨åŠ è½½",
      "config": { "minMs": 3000, "maxMs": 5000 },
      "next": ["highlight_specific"]
    },
    {
      "id": "highlight_specific",
      "type": "PageSnapshotNode",
      "name": "é’ˆå¯¹æ€§é«˜äº®æµ‹è¯•",
      "config": {
        "script": "console.log('ğŸ¯ å¼€å§‹é’ˆå¯¹æ€§é«˜äº®æµ‹è¯•...'); // 1. æµ‹è¯•å‘ç°çš„æ—ºæ—ºé€‰æ‹©å™¨ const wangwangElements = document.querySelectorAll('span.J_WangWang, span[class*=\"WangWang\"]'); console.log(`âœ… æ‰¾åˆ° J_WangWang å…ƒç´ : ${wangwangElements.length} ä¸ª`); wangwangElements.forEach((el, index) => { console.log(`  æ—ºæ—ºå…ƒç´  ${index + 1}: className=${el.className}, text=${el.textContent.trim()}`); }); // 2. æµ‹è¯•æ‰€æœ‰æ—ºæ—ºç›¸å…³é€‰æ‹©å™¨ const allWangwangSelectors = ['span.J_WangWang', 'span[class*=\"WangWang\"]', '[class*=\"æ—ºæ—º\"]', '[class*=\"wangwang\"]', '.ww-light', '.ww-static', '.ww-online']; let totalWangwang = 0; allWangwangSelectors.forEach(selector => { const elements = document.querySelectorAll(selector); if (elements.length > 0) { console.log(`âœ… é€‰æ‹©å™¨ ${selector}: æ‰¾åˆ° ${elements.length} ä¸ªå…ƒç´ `); totalWangwang += elements.length; } }); console.log(`ğŸ“Š æ—ºæ—ºå…ƒç´ æ€»è®¡: ${totalWangwang} ä¸ª`); // 3. æµ‹è¯•å•†å®¶å®¹å™¨é€‰æ‹©å™¨ const merchantSelectors = ['.sm-offer-item', '.offer-item', '.sm-offer', '[class*=\"offer\"]']; let totalMerchants = 0; merchantSelectors.forEach(selector => { const elements = document.querySelectorAll(selector); if (elements.length > 0) { console.log(`âœ… å•†å®¶é€‰æ‹©å™¨ ${selector}: æ‰¾åˆ° ${elements.length} ä¸ªå…ƒç´ `); totalMerchants += elements.length; } }); console.log(`ğŸ“Š å•†å®¶å®¹å™¨æ€»è®¡: ${totalMerchants} ä¸ª`); // 4. éªŒè¯æ—ºæ—ºå…ƒç´ æ˜¯å¦åœ¨å•†å®¶å®¹å™¨å†… let wangwangInMerchant = 0; wangwangElements.forEach(wangwang => { const merchant = wangwang.closest('.sm-offer-item, .offer-item, .sm-offer, [class*=\"offer\"]'); if (merchant) { wangwangInMerchant++; const merchantTitle = merchant.querySelector('h4, [class*=title], a[title]'); console.log(`  æ—ºæ—ºåœ¨å•†å®¶å†…: ${merchantTitle ? merchantTitle.textContent.trim().substring(0, 30) : 'æœªæ‰¾åˆ°æ ‡é¢˜'}`); } }); console.log(`ğŸ“Š æ—ºæ—ºåœ¨å•†å®¶å®¹å™¨å†…: ${wangwangInMerchant} ä¸ª`); return { success: true, wangwangElements: wangwangElements.length, totalWangwang: totalWangwang, totalMerchants: totalMerchants, wangwangInMerchant: wangwangInMerchant, message: `å‘ç° ${wangwangElements.length} ä¸ªJ_WangWangå…ƒç´ , ${totalMerchants} ä¸ªå•†å®¶å®¹å™¨`, timestamp: new Date().toISOString() };",
        "saveScreenshots": true
      },
      "next": ["save_results"]
    },
    {
      "id": "save_results",
      "type": "ResultSaverNode",
      "name": "ä¿å­˜éªŒè¯ç»“æœ",
      "config": {
        "outputDir": "workflows/records",
        "filenameTemplate": "1688-targeted-verification-{timestamp}.json",
        "includeMetadata": true
      },
      "next": ["end"]
    },
    {
      "id": "end",
      "type": "EndNode",
      "name": "ç»“æŸéªŒè¯",
      "config": { "cleanup": false, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": false,
    "parallelExecution": false,
    "timeout": 300000
  }
}