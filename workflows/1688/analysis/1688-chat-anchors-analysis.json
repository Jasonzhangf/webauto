{
  "name": "1688èŠå¤©ç•Œé¢é”šç‚¹åˆ†æ",
  "description": "åˆ†æ1688èŠå¤©ç•Œé¢çš„å…³é”®é”šç‚¹å…ƒç´ ï¼šå‘é€æŒ‰é’®å’Œå¯¹è¯åç§°",
  "version": "1.0.0",
  "preflows": ["1688-login-preflow-improved"],
  "nodes": [
    {
      "id": "navigate_to_chat",
      "type": "NavigateNode",
      "config": {
        "url": "https://im.1688.com/",
        "waitUntil": "networkidle2",
        "timeout": 30000
      }
    },
    {
      "id": "wait_for_chat_interface",
      "type": "WaitNode",
      "config": {
        "timeout": 5000
      }
    },
    {
      "id": "anchor_chat_partner_name",
      "type": "AnchorPointNode",
      "config": {
        "name": "chat_partner_name",
        "selector": ".go-shop-container",
        "description": "å¯¹è¯ä¼™ä¼´åç§°å®¹å™¨",
        "required": true,
        "highlight": {
          "style": "border: 4px solid #FFD700 !important; background: rgba(255, 215, 0, 0.3) !important; z-index: 9999 !important;",
          "label": "å¯¹è¯ä¼™ä¼´åç§°"
        },
        "validation": {
          "textContent": {
            "minLength": 2,
            "pattern": ".*[\\u4e00-\\u9fa5].*",
            "description": "å¿…é¡»åŒ…å«ä¸­æ–‡å­—ç¬¦ä¸”é•¿åº¦è‡³å°‘2ä¸ªå­—ç¬¦"
          }
        },
        "dataExtraction": {
          "name": "partner_name",
          "text": true,
          "attributes": ["data-spm-anchor-id", "class"]
        }
      }
    },
    {
      "id": "anchor_send_button",
      "type": "AnchorPointNode",
      "config": {
        "name": "send_button",
        "selector": "button.next-btn.next-small.next-btn-primary.send-btn",
        "description": "å‘é€æŒ‰é’®",
        "required": true,
        "highlight": {
          "style": "border: 6px solid #FF0000 !important; background: rgba(255, 0, 0, 0.5) !important; box-shadow: 0 0 30px rgba(255, 0, 0, 1) !important; z-index: 9999 !important;",
          "label": "å‘é€æŒ‰é’®"
        },
        "validation": {
          "textContent": {
            "equals": "å‘é€",
            "description": "æ–‡æœ¬å†…å®¹å¿…é¡»æ˜¯'å‘é€'"
          }
        },
        "dataExtraction": {
          "name": "send_button",
          "attributes": ["class", "type"],
          "textContent": true,
          "childElements": {
            "span": {
              "selector": "span[data-spm-anchor-id]",
              "attributes": ["data-spm-anchor-id"],
              "textContent": true
            }
          }
        }
      }
    },
    {
      "id": "anchor_input_box",
      "type": "AnchorPointNode",
      "config": {
        "name": "input_box",
        "selector": "textarea.insight-mf-textarea",
        "description": "èŠå¤©è¾“å…¥æ¡†",
        "required": true,
        "highlight": {
          "style": "border: 5px solid #0066FF !important; background: rgba(0, 102, 255, 0.3) !important; z-index: 9999 !important;",
          "label": "è¾“å…¥æ¡†"
        },
        "validation": {
          "placeholder": {
            "contains": "å¡«å†™",
            "description": "å ä½ç¬¦åº”åŒ…å«'å¡«å†™'å­—ç¬¦"
          }
        },
        "dataExtraction": {
          "name": "input_box",
          "attributes": ["class", "placeholder"],
          "properties": ["value", "disabled"]
        }
      }
    },
    {
      "id": "comprehensive_analysis",
      "type": "JavaScriptExecutionNode",
      "config": {
        "script": "// 1688èŠå¤©ç•Œé¢ç»¼åˆåˆ†æè„šæœ¬\nconsole.clear();\nconsole.log('ğŸ” å¼€å§‹1688èŠå¤©ç•Œé¢ç»¼åˆåˆ†æ...');\n\n// è·å–é”šç‚¹æ•°æ®\nconst chatPartner = window.anchorData?.chat_partner_name;\nconst sendButton = window.anchorData?.send_button;\nconst inputBox = window.anchorData?.input_box;\n\nconsole.log('\\nğŸ“Š é”šç‚¹åˆ†æç»“æœ:');\nconsole.log('='.repeat(60));\n\nif(chatPartner){\n    console.log('ğŸ‘¤ å¯¹è¯ä¼™ä¼´åç§°:');\n    console.log('  - åç§°:', chatPartner.text);\n    console.log('  - SPM:', chatPartner.attributes['data-spm-anchor-id']);\n    console.log('  - ç±»å:', chatPartner.attributes.class);\n}\n\nif(sendButton){\n    console.log('\\nğŸ“¤ å‘é€æŒ‰é’®:');\n    console.log('  - æ–‡æœ¬:', sendButton.textContent);\n    console.log('  - ç±»å:', sendButton.attributes.class);\n    console.log('  - ç±»å‹:', sendButton.attributes.type);\n    if(sendButton.childElements && sendButton.childElements.span){\n        console.log('  - SPAN SPM:', sendButton.childElements.span.attributes['data-spm-anchor-id']);\n    }\n}\n\nif(inputBox){\n    console.log('\\nğŸ“ è¾“å…¥æ¡†:');\n    console.log('  - å ä½ç¬¦:', inputBox.attributes.placeholder);\n    console.log('  - ç±»å:', inputBox.attributes.class);\n    console.log('  - å½“å‰å€¼:', inputBox.properties.value || 'ç©º');\n    console.log('  - ç¦ç”¨çŠ¶æ€:', inputBox.properties.disabled || 'å¯ç”¨');\n}\n\nconsole.log('\\nğŸ¯ CSSé€‰æ‹©å™¨æ€»ç»“:');\nconsole.log('â€¢ å¯¹è¯ä¼™ä¼´: .go-shop-container');\nconsole.log('â€¢ å‘é€æŒ‰é’®: button.next-btn.next-small.next-btn-primary.send-btn');\nconsole.log('â€¢ è¾“å…¥æ¡†: textarea.insight-mf-textarea');\n\nconsole.log('\\nâœ… 1688èŠå¤©ç•Œé¢åˆ†æå®Œæˆï¼');\n\nreturn {\n    analysisComplete: true,\n    anchorsFound: {\n        chatPartner: !!chatPartner,\n        sendButton: !!sendButton,\n        inputBox: !!inputBox\n    },\n    selectors: {\n        chatPartner: '.go-shop-container',\n        sendButton: 'button.next-btn.next-small.next-btn-primary.send-btn',\n        inputBox: 'textarea.insight-mf-textarea'\n    }\n};"
      }
    }
  ],
  "settings": {
    "timeout": 60000,
    "retries": 2,
    "saveCookies": true,
    "saveScreenshots": true,
    "highlightAnchors": true,
    "debugMode": true
  }
}