{
  "name": "1688å¼ºåˆ¶é«˜äº®æµ‹è¯•",
  "description": "å¼ºåˆ¶é«˜äº®æœç´¢é¡µé¢ä¸­çš„æ‰€æœ‰å¯èƒ½å…ƒç´ ï¼Œç¡®ä¿èƒ½çœ‹åˆ°é«˜äº®æ•ˆæœ",
  "version": "1.0.0",
  "preflows": ["1688-login-preflow"],
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "å¼€å§‹", "next": ["attach"] },
    {
      "id": "attach",
      "type": "AttachSessionNode",
      "name": "ä¼šè¯æ¥åŠ›",
      "config": {},
      "next": ["navigate_search"]
    },
    {
      "id": "navigate_search",
      "type": "NavigationNode",
      "name": "å¯¼èˆªåˆ°æœç´¢ç»“æœé¡µ",
      "config": {
        "url": "https://s.1688.com/selloffer/offer_search.htm?keywords=%B7%FE%D7%B0",
        "waitUntil": "domcontentloaded",
        "timeout": 30000
      },
      "next": ["wait_search"]
    },
    {
      "id": "wait_search",
      "type": "WaitNode",
      "name": "ç­‰å¾…æœç´¢ç»“æœå®Œå…¨åŠ è½½",
      "config": { "minMs": 5000, "maxMs": 8000 },
      "next": ["analyze_page"]
    },
    {
      "id": "analyze_page",
      "type": "PageSnapshotNode",
      "name": "åˆ†æé¡µé¢ç»“æ„",
      "config": {
        "script": "console.log('ğŸ” åˆ†æé¡µé¢ç»“æ„...'); const allDivs = document.querySelectorAll('div'); const allArticles = document.querySelectorAll('article'); const allSections = document.querySelectorAll('section'); const allLis = document.querySelectorAll('li'); console.log('é¡µé¢å…ƒç´ ç»Ÿè®¡:'); console.log('- æ‰€æœ‰divå…ƒç´ :', allDivs.length); console.log('- æ‰€æœ‰articleå…ƒç´ :', allArticles.length); console.log('- æ‰€æœ‰sectionå…ƒç´ :', allSections.length); console.log('- æ‰€æœ‰liå…ƒç´ :', allLis.length); // æŸ¥æ‰¾åŒ…å«å•†å®¶ä¿¡æ¯çš„å…ƒç´  const merchantKeywords = ['offer', 'product', 'item', 'goods', 'supplier', 'company']; let potentialMerchants = 0; allDivs.forEach(div => { const text = div.textContent.toLowerCase(); const className = div.className.toLowerCase(); if (merchantKeywords.some(keyword => text.includes(keyword) || className.includes(keyword))) { potentialMerchants++; } }); console.log('æ½œåœ¨å•†å®¶å®¹å™¨:', potentialMerchants); // æŸ¥æ‰¾åŒ…å«è”ç³»ä¿¡æ¯çš„å…ƒç´  const contactKeywords = ['contact', 'chat', 'im', 'talk', 'æ—ºæ—º', 'è”ç³»', 'å®¢æœ']; let potentialContacts = 0; allElements = document.querySelectorAll('*'); allElements.forEach(el => { const text = el.textContent.toLowerCase(); const className = el.className.toLowerCase(); if (contactKeywords.some(keyword => text.includes(keyword) || className.includes(keyword))) { potentialContacts++; } }); console.log('æ½œåœ¨è”ç³»æ–¹å¼å…ƒç´ :', potentialContacts); return { success: true, totalDivs: allDivs.length, totalArticles: allArticles.length, totalSections: allSections.length, totalLis: allLis.length, potentialMerchants: potentialMerchants, potentialContacts: potentialContacts, timestamp: new Date().toISOString() };",
        "saveScreenshots": true
      },
      "next": ["force_highlight_all"]
    },
    {
      "id": "force_highlight_all",
      "type": "PageSnapshotNode",
      "name": "å¼ºåˆ¶é«˜äº®æ‰€æœ‰å¯ç–‘å…ƒç´ ",
      "config": {
        "script": "console.log('ğŸ¨ å¼€å§‹å¼ºåˆ¶é«˜äº®...'); let highlightedCount = 0; // é«˜äº®æ‰€æœ‰å¯èƒ½çš„å•†å®¶å®¹å™¨ const merchantSelectors = ['div[class*=\"offer\"]', 'div[class*=\"product\"]', 'div[class*=\"item\"]', 'div[class*=\"sm-offer\"]', 'article', 'section[class*=\"offer\"]', 'li[class*=\"offer\"]', '.sm-offer-item', '.offer-item']; merchantSelectors.forEach(selector => { try { const elements = document.querySelectorAll(selector); console.log(`é€‰æ‹©å™¨ ${selector}: æ‰¾åˆ° ${elements.length} ä¸ªå…ƒç´ `); elements.forEach((el, index) => { if (index < 15) { el.style.setProperty('border', '5px solid red', 'important'); el.style.setProperty('background-color', 'rgba(255, 0, 0, 0.3)', 'important'); el.style.setProperty('box-shadow', '0 0 15px red', 'important'); el.style.setProperty('z-index', '999999', 'important'); el.style.setProperty('position', 'relative', 'important'); // æ·»åŠ æ ‡è®° const marker = document.createElement('div'); marker.textContent = 'å•†å®¶å®¹å™¨'; marker.style.cssText = 'position:absolute;top:0;left:0;background:yellow;color:red;font-weight:bold;padding:2px;z-index:1000000;font-size:12px;'; el.style.position = 'relative'; el.appendChild(marker); highlightedCount++; } }); } catch (e) { console.log(`é€‰æ‹©å™¨ ${selector} æ‰§è¡Œå‡ºé”™:`, e.message); } }); // é«˜äº®æ‰€æœ‰å¯èƒ½çš„è”ç³»æ–¹å¼ const contactSelectors = ['a[class*=\"contact\"]', 'a[class*=\"chat\"]', 'a[class*=\"im\"]', 'button[class*=\"contact\"]', 'button[class*=\"chat\"]', 'div[class*=\"contact\"]', 'div[class*=\"chat\"]', 'span[class*=\"contact\"]', 'span[class*=\"chat\"]', '[class*=\"æ—ºæ—º\"]', '.sm-im', '.s-im']; contactSelectors.forEach(selector => { try { const elements = document.querySelectorAll(selector); console.log(`è”ç³»æ–¹å¼é€‰æ‹©å™¨ ${selector}: æ‰¾åˆ° ${elements.length} ä¸ªå…ƒç´ `); elements.forEach((el, index) => { if (index < 20) { el.style.setProperty('border', '4px solid blue', 'important'); el.style.setProperty('background-color', 'rgba(0, 0, 255, 0.4)', 'important'); el.style.setProperty('box-shadow', '0 0 12px blue', 'important'); el.style.setProperty('z-index', '999999', 'important'); // æ·»åŠ æ ‡è®° const marker = document.createElement('div'); marker.textContent = 'è”ç³»æ–¹å¼'; marker.style.cssText = 'position:absolute;top:0;left:0;background:cyan;color:blue;font-weight:bold;padding:2px;z-index:1000000;font-size:10px;'; el.style.position = 'relative'; el.appendChild(marker); highlightedCount++; } }); } catch (e) { console.log(`è”ç³»æ–¹å¼é€‰æ‹©å™¨ ${selector} æ‰§è¡Œå‡ºé”™:`, e.message); } }); console.log(`æ€»å…±é«˜äº®äº† ${highlightedCount} ä¸ªå…ƒç´ `); // åœ¨é¡µé¢é¡¶éƒ¨æ·»åŠ æç¤º const notice = document.createElement('div'); notice.innerHTML = '<h1 style=\"background:red;color:white;padding:20px;font-size:24px;z-index:10000000;position:fixed;top:0;left:0;width:100%;text-align:center;\">âœ… é«˜äº®æµ‹è¯•å®Œæˆ - æ‰¾åˆ° ' + highlightedCount + ' ä¸ªå…ƒç´ </h1>'; document.body.insertBefore(notice, document.body.firstChild); return { success: true, highlightedCount: highlightedCount, message: `å·²å¼ºåˆ¶é«˜äº® ${highlightedCount} ä¸ªå…ƒç´ ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨é¡µé¢`, timestamp: new Date().toISOString() };",
        "saveScreenshots": true
      },
      "next": ["keep_highlight_forever"]
    },
    {
      "id": "keep_highlight_forever",
      "type": "WaitNode",
      "name": "ä¿æŒé«˜äº®60ç§’ä¾¿äºè§‚å¯Ÿ",
      "config": { "minMs": 60000, "maxMs": 65000 },
      "next": ["end"]
    },
    {
      "id": "end",
      "type": "EndNode",
      "name": "ç»“æŸæµ‹è¯•ï¼ˆä¿æŒé¡µé¢æ‰“å¼€ï¼‰",
      "config": { "cleanup": false, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": false,
    "parallelExecution": false,
    "timeout": 300000
  }
}