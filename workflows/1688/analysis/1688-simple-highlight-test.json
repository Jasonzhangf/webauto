{
  "name": "1688简单高亮测试",
  "description": "最简单的测试：直接修改页面背景色和添加大提示框",
  "version": "1.0.0",
  "preflows": ["1688-login-preflow"],
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "开始", "next": ["attach"] },
    {
      "id": "attach",
      "type": "AttachSessionNode",
      "name": "会话接力",
      "config": {},
      "next": ["navigate_search"]
    },
    {
      "id": "navigate_search",
      "type": "NavigationNode",
      "name": "导航到搜索结果页",
      "config": {
        "url": "https://s.1688.com/selloffer/offer_search.htm?keywords=%B7%FE%D7%B0",
        "waitUntil": "domcontentloaded",
        "timeout": 30000
      },
      "next": ["wait_search"]
    },
    {
      "id": "wait_search",
      "type": "WaitNode",
      "name": "等待搜索结果完全加载",
      "config": { "minMs": 3000, "maxMs": 5000 },
      "next": ["simple_test"]
    },
    {
      "id": "simple_test",
      "type": "PageSnapshotNode",
      "name": "最简单的高亮测试",
      "config": {
        "script": "console.log('🔥 开始最简单的高亮测试...'); // 1. 修改整个页面背景色 document.body.style.backgroundColor = 'yellow'; console.log('✅ 页面背景色已修改为黄色'); // 2. 添加巨大的提示框 const alertDiv = document.createElement('div'); alertDiv.innerHTML = '<h1 style=\"background:red;color:white;font-size:48px;padding:20px;position:fixed;top:50px;left:50px;z-index:999999999;border:5px solid black;\">⚠️ 高亮测试正在运行 ⚠️</h1>'; document.body.appendChild(alertDiv); console.log('✅ 巨大提示框已添加'); // 3. 高亮所有div元素 const allDivs = document.querySelectorAll('div'); console.log(`找到 ${allDivs.length} 个div元素`); for (let i = 0; i < Math.min(10, allDivs.length); i++) { allDivs[i].style.border = '3px solid green'; allDivs[i].style.backgroundColor = 'lightgreen'; } console.log('✅ 前10个div元素已高亮'); // 4. 高亮所有链接 const allLinks = document.querySelectorAll('a'); console.log(`找到 ${allLinks.length} 个链接元素`); for (let i = 0; i < Math.min(10, allLinks.length); i++) { allLinks[i].style.border = '3px solid blue'; allLinks[i].style.backgroundColor = 'lightblue'; } console.log('✅ 前10个链接元素已高亮'); // 5. 在页面顶部添加状态栏 const statusBar = document.createElement('div'); statusBar.innerHTML = '<div style=\"background:black;color:white;padding:10px;position:fixed;top:0;left:0;width:100%;z-index:999999999;font-size:20px;text-align:center;\">🎨 高亮测试完成！页面应该变为黄色，有红色提示框，绿色div边框，蓝色链接边框</div>'; document.body.appendChild(statusBar); console.log('✅ 状态栏已添加'); return { success: true, message: '最简单的高亮测试完成！页面应该有明显变化', totalDivs: allDivs.length, totalLinks: allLinks.length, timestamp: new Date().toISOString() };",
        "saveScreenshots": true
      },
      "next": ["keep_test"]
    },
    {
      "id": "keep_test",
      "type": "WaitNode",
      "name": "保持高亮30秒便于观察",
      "config": { "minMs": 30000, "maxMs": 35000 },
      "next": ["end"]
    },
    {
      "id": "end",
      "type": "EndNode",
      "name": "结束测试（保持页面打开）",
      "config": { "cleanup": false, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": false,
    "parallelExecution": false,
    "timeout": 300000
  }
}