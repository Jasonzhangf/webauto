<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>WebAuto 容器编辑器（DevTools）</title>
  <style>
    body { font-family: -apple-system, system-ui, Arial; margin: 0; display: flex; height: 100vh; }
    header { background: #111; color: #fff; padding: 8px 12px; }
    #left { width: 280px; border-right: 1px solid #ddd; }
    #right { flex: 1; display: flex; flex-direction: column; }
    .pane { padding: 10px; }
    ul { list-style: none; padding: 0; }
    li { padding: 4px 0; cursor: pointer; }
    input, textarea, select { width: 100%; padding: 6px; box-sizing: border-box; margin: 4px 0; }
    .row { display: flex; gap: 8px; align-items: center; }
    .row > * { flex: 1; }
    button { padding: 6px 10px; }
    .small { font-size: 12px; color: #666; }
  </style>
  <script defer src="main.js"></script>
  <link rel="icon" href="data:," />
  <script>
    window.__cfg = { host: location.origin };
  </script>
</head>
<body>
  <div id="left">
    <header>容器库（站点）</header>
    <div class="pane">
      <div class="row">
        <input id="site" value="1688.com" />
        <button id="btnLoadRoots">加载根容器</button>
      </div>
      <ul id="roots"></ul>
    </div>
  </div>
  <div id="right">
    <header>树状结构 / 容器编辑</header>
    <div class="pane" style="flex:1; overflow:auto;">
      <div class="row">
        <input id="rootId" placeholder="rootId" />
        <button id="btnLoadTree">加载树</button>
      </div>
      <div id="tree"></div>
      <hr />
      <h3>容器属性</h3>
      <div class="row"><input id="cid" placeholder="id" /><input id="cname" placeholder="name" /></div>
      <div class="row"><input id="ctype" placeholder="type" /><input id="cscope" placeholder="scope" /></div>
      <div>
        <label>classes（首选选择器）</label>
        <input id="cclasses" placeholder="class1.class2" />
      </div>
      <div>
        <label>children（逗号分隔）</label>
        <input id="cchildren" placeholder="child1,child2" />
      </div>
      <div class="row">
        <input id="cparent" placeholder="parentId（可选）" />
        <button id="btnPathPreview">路径预览</button>
      </div>
      <div>
        <label>runMode</label>
        <select id="crunMode"><option>sequential</option><option>parallel</option></select>
      </div>
      <div>
        <label>operations（JSON）</label>
        <textarea id="cops" rows="4">[{"type":"find-child"}]</textarea>
      </div>
      <div class="row">
        <button id="btnPreview">浏览器预览高亮</button>
        <button id="btnSave">保存到库（staging）</button>
      </div>
      <div class="small" id="msg"></div>
    </div>
  </div>
</body>
</html>
