{
  "name": "1688 搜索页面访问测试",
  "description": "直接访问1688搜索页面（不带关键字），测试是否会被风控拦截",
  "version": "1.0.0",
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "开始", "next": ["attach"] },
    { "id": "attach", "type": "AttachSessionNode", "name": "会话接力", "config": {}, "next": ["navigate"] },

    {
      "id": "navigate",
      "type": "NavigationNode",
      "name": "导航到1688搜索页面（不带关键字）",
      "config": {
        "url": "https://s.1688.com/selloffer/offer_search.htm",
        "waitUntil": "domcontentloaded",
        "timeout": 30000
      },
      "next": ["wait"]
    },

    {
      "id": "wait",
      "type": "WaitNode",
      "name": "等待页面完全加载",
      "config": { "minMs": 5000, "maxMs": 7000 },
      "next": ["analyze_page"]
    },

    {
      "id": "analyze_page",
      "type": "GateOverlayNode",
      "name": "分析搜索页面状态",
      "config": {
        "hostFilter": "s.1688.com",
        "title": "🔍 1688搜索页面状态分析",
        "message": "✅ 搜索页面访问测试完成！\\n\\n📋 请检查以下页面状态：\\n\\n1️⃣ 页面访问状态：\\n- 页面是否成功加载？\\n- 页面标题是什么？\\n- 是否被重定向到验证码页面？\\n\\n2️⃣ 页面内容分析：\\n- 是否显示正常的搜索页面？\\n- 是否能看到搜索框？\\n- 是否有搜索历史记录？\\n\\n3️⃣ 风控状态检查：\\n- 是否有验证码拦截？\\n- 页面功能是否正常？\\n\\n4️⃣ 后续操作建议：\\n- 如果页面正常，可以尝试输入搜索关键词\\n- 如果被拦截，需要寻找其他获取商家信息的方式\\n\\n点击'下一步'查看页面详细分析结果",
        "stepGate": true,
        "block": true
      },
      "next": ["save_results"]
    },

    {
      "id": "save_results",
      "type": "ResultSaverNode",
      "name": "保存测试结果",
      "config": {
        "outputDir": "archive/workflow-records",
        "filenameTemplate": "1688-search-page-access-test-{timestamp}.json",
        "includeMetadata": true
      },
      "next": ["end"]
    },

    {
      "id": "end",
      "type": "EndNode",
      "name": "结束",
      "config": { "cleanup": false, "saveLogs": true }
    }
  ],
  "globalConfig": {
    "logLevel": "info",
    "screenshotOnError": true,
    "autoCleanup": false,
    "parallelExecution": false,
    "timeout": 900000
  }
}