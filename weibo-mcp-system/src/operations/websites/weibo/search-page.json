{
  "website": "weibo",
  "page": "search-page",
  "description": "微博搜索页面配置",
  "urlPattern": "https?://s\\.weibo\\.com/.*",
  "operations": [
    {
      "name": "获取搜索关键词",
      "atomicOperation": "extract_text",
      "selector": ".searchbox input[type='search']",
      "outputKey": "search_keyword"
    },
    {
      "name": "获取搜索结果数量",
      "atomicOperation": "extract_text",
      "selector": ".search_result .total",
      "outputKey": "result_count"
    },
    {
      "name": "提取搜索结果",
      "atomicOperation": "extract_text",
      "selector": ".card-wrap .card",
      "parameters": {
        "multi": true
      },
      "outputKey": "search_results"
    },
    {
      "name": "获取结果链接",
      "atomicOperation": "extract_attribute",
      "selector": ".card-wrap .card a[href*='weibo.com']",
      "parameters": {
        "attribute": "href",
        "multi": true
      },
      "outputKey": "result_links"
    },
    {
      "name": "获取结果用户信息",
      "atomicOperation": "extract_text",
      "selector": ".card-wrap .card .from",
      "parameters": {
        "multi": true
      },
      "outputKey": "result_users"
    },
    {
      "name": "获取结果时间",
      "atomicOperation": "extract_text",
      "selector": ".card-wrap .card .from a",
      "parameters": {
        "multi": true
      },
      "outputKey": "result_times"
    },
    {
      "name": "检查是否有下一页",
      "atomicOperation": "check_element_exists",
      "selector": ".next",
      "outputKey": "has_next_page"
    },
    {
      "name": "获取页码信息",
      "atomicOperation": "extract_text",
      "selector": ".page .current",
      "outputKey": "current_page"
    },
    {
      "name": "获取搜索筛选器",
      "atomicOperation": "extract_text",
      "selector": ".filter .filter-item",
      "parameters": {
        "multi": true
      },
      "outputKey": "filter_options"
    }
  ],
  "workflows": [
    {
      "name": "基础搜索结果提取",
      "description": "提取搜索结果的基础信息",
      "steps": [
        {
          "operationName": "获取搜索关键词"
        },
        {
          "operationName": "获取搜索结果数量"
        },
        {
          "operationName": "提取搜索结果"
        },
        {
          "operationName": "获取结果链接"
        }
      ]
    },
    {
      "name": "完整搜索数据分析",
      "description": "提取搜索结果的完整分析数据",
      "steps": [
        {
          "operationName": "获取搜索关键词"
        },
        {
          "operationName": "获取搜索结果数量"
        },
        {
          "operationName": "提取搜索结果"
        },
        {
          "operationName": "获取结果链接"
        },
        {
          "operationName": "获取结果用户信息"
        },
        {
          "operationName": "获取结果时间"
        },
        {
          "operationName": "检查是否有下一页"
        },
        {
          "operationName": "获取页码信息"
        }
      ]
    },
    {
      "name": "搜索结果截图",
      "description": "对搜索结果页面进行截图",
      "steps": [
        {
          "operationName": "获取搜索关键词"
        },
        {
          "operationName": "screenshot",
          "parameters": {
            "filename": "search_results.png"
          }
        }
      ]
    }
  ]
}