{
  "website": "ecommerce",
  "page": "product-detail",
  "description": "电商产品详情页面配置",
  "urlPattern": "https?://(.*\\.)?(taobao|tmall|jd|amazon)\\.com.*",
  "operations": [
    {
      "name": "获取产品名称",
      "atomicOperation": "extract_text",
      "selector": ".product-name, .item-name, h1",
      "outputKey": "product_name"
    },
    {
      "name": "获取产品价格",
      "atomicOperation": "extract_text",
      "selector": ".price, .product-price, .amount",
      "outputKey": "product_price"
    },
    {
      "name": "获取产品图片",
      "atomicOperation": "extract_attribute",
      "selector": ".product-gallery img, .main-image img",
      "parameters": {
        "attribute": "src",
        "multi": true
      },
      "outputKey": "product_images"
    },
    {
      "name": "获取产品描述",
      "atomicOperation": "extract_html",
      "selector": ".product-description, .description",
      "outputKey": "product_description"
    },
    {
      "name": "获取产品规格",
      "atomicOperation": "extract_text",
      "selector": ".specs .spec-item, .attributes li",
      "parameters": {
        "multi": true
      },
      "outputKey": "product_specs"
    },
    {
      "name": "获取产品评分",
      "atomicOperation": "extract_text",
      "selector": ".rating .score, .stars .rating-value",
      "outputKey": "product_rating"
    },
    {
      "name": "获取产品评论数",
      "atomicOperation": "extract_text",
      "selector": ".review-count, .comments-count",
      "outputKey": "review_count"
    },
    {
      "name": "获取库存状态",
      "atomicOperation": "check_element_exists",
      "selector": ".stock-status .in-stock, .available",
      "outputKey": "in_stock"
    },
    {
      "name": "获取产品分类",
      "atomicOperation": "extract_text",
      "selector": ".breadcrumb a, .category-nav a",
      "parameters": {
        "multi": true
      },
      "outputKey": "product_categories"
    },
    {
      "name": "滚动到产品图片",
      "atomicOperation": "scroll_to_element",
      "selector": ".product-gallery",
      "outputKey": "scrolled_to_gallery"
    },
    {
      "name": "截图产品详情",
      "atomicOperation": "screenshot",
      "parameters": {
        "selector": ".product-main",
        "filename": "product_detail.png"
      },
      "outputKey": "product_screenshot"
    },
    {
      "name": "提取价格表格",
      "atomicOperation": "extract_table_data",
      "selector": ".price-table, .spec-table",
      "parameters": {
        "includeHeaders": true
      },
      "outputKey": "price_table"
    },
    {
      "name": "执行JavaScript获取额外信息",
      "atomicOperation": "execute_script",
      "parameters": {
        "script": "return { viewport: { width: window.innerWidth, height: window.innerHeight }, timestamp: Date.now() };"
      },
      "outputKey": "page_info"
    }
  ],
  "workflows": [
    {
      "name": "基础产品信息提取",
      "description": "提取产品的基础信息",
      "steps": [
        {
          "operationName": "获取产品名称"
        },
        {
          "operationName": "获取产品价格"
        },
        {
          "operationName": "获取产品图片"
        },
        {
          "operationName": "获取库存状态"
        }
      ]
    },
    {
      "name": "完整产品分析",
      "description": "完整的产品页面分析和数据提取",
      "steps": [
        {
          "operationName": "获取产品名称"
        },
        {
          "operationName": "获取产品价格"
        },
        {
          "operationName": "获取产品图片"
        },
        {
          "operationName": "获取产品描述"
        },
        {
          "operationName": "获取产品规格"
        },
        {
          "operationName": "获取产品评分"
        },
        {
          "operationName": "获取产品评论数"
        },
        {
          "operationName": "获取库存状态"
        },
        {
          "operationName": "获取产品分类"
        },
        {
          "operationName": "提取价格表格"
        }
      ]
    },
    {
      "name": "产品页面截图",
      "description": "对产品页面进行截图并收集信息",
      "steps": [
        {
          "operationName": "等待页面加载"
        },
        {
          "operationName": "获取产品名称"
        },
        {
          "operationName": "滚动到产品图片"
        },
        {
          "operationName": "wait_for_timeout",
          "parameters": {
            "timeout": 1000
          }
        },
        {
          "operationName": "截图产品详情"
        },
        {
          "operationName": "执行JavaScript获取额外信息"
        }
      ]
    },
    {
      "name": "产品数据收集",
      "description": "收集产品的结构化数据",
      "steps": [
        {
          "operationName": "获取产品名称"
        },
        {
          "operationName": "获取产品价格"
        },
        {
          "operationName": "获取产品评分"
        },
        {
          "operationName": "获取产品评论数"
        },
        {
          "operationName": "获取库存状态"
        },
        {
          "operationName": "获取页面URL"
        },
        {
          "operationName": "get_page_title",
          "outputKey": "page_title"
        }
      ]
    }
  ]
}