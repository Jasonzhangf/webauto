# Apply Patch 工具自身测试计划

## 目标
验证当前正在使用的 apply_patch 工具能够正确处理各种代码修改场景

## 测试策略
创建临时测试文件 → 应用补丁 → 验证结果 → 清理

## 测试用例列表

### Phase 1: 基础文本操作 (必须100%通过)
1. **TEST-01**: 创建新文件
2. **TEST-02**: 简单单行替换
3. **TEST-03**: 多行替换
4. **TEST-04**: 文件头部插入
5. **TEST-05**: 文件尾部追加

### Phase 2: 代码结构操作 (必须100%通过)
6. **TEST-06**: 函数内容替换
7. **TEST-07**: 添加import语句
8. **TEST-08**: 修改对象属性
9. **TEST-09**: 添加新方法
10. **TEST-10**: 修改函数参数

### Phase 3: 复杂场景 (必须≥90%通过)
11. **TEST-11**: 特殊字符处理（引号、反斜杠）
12. **TEST-12**: 缩进保持
13. **TEST-13**: 多处修改（连续应用多个补丁）
14. **TEST-14**: 大块代码替换
15. **TEST-15**: 空行和注释处理

### Phase 4: 边界条件 (必须正确报错)
16. **TEST-16**: 文件不存在
17. **TEST-17**: 搜索内容不匹配
18. **TEST-18**: 空文件处理

## 执行顺序
1. Phase 1 → 全部通过才继续
2. Phase 2 → 全部通过才继续
3. Phase 3 → ≥90%通过才继续
4. Phase 4 → 验证错误处理正确
5. 清理测试文件

## 成功标准
- Phase 1: 5/5 通过
- Phase 2: 5/5 通过
- Phase 3: ≥14/15 通过
- Phase 4: 错误信息清晰准确
