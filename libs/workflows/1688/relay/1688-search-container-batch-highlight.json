{
  "name": "1688 搜索容器→旺旺高亮 批量(线性/不点击)",
  "version": "1.0.0",
  "variables": { "startIndex": 0, "count": 3, "delayMs": 3000 },
  "nodes": [
    { "id": "start", "type": "StartNode", "name": "开始", "next": ["attach"] },
    { "id": "attach", "type": "AttachSessionNode", "name": "会话接力", "config": {}, "next": ["anchor_list"] },

    { "id": "anchor_list", "type": "ContainerAnchorNode", "name": "列表容器锚点", "config": { "containerName": "search.listContainer", "highlight": true, "label": "LIST", "durationMs": 500, "outScopeVar": "listScope", "noScroll": true }, "next": ["init_idx"] },

    { "id": "init_idx", "type": "JavaScriptExecutionNode", "name": "初始化索引", "config": { "script": "(function(){ try{ var idx=Number('{startIndex}')||0; var cnt=Number('{count}')||1; var end=idx+cnt; return { success:true, variables:{ idx:idx, endIdx:end } }; }catch(e){ return { success:false, error:String(e) }; } })();" }, "next": ["loop_check"] },

    { "id": "loop_check", "type": "ConditionNode", "name": "是否结束( idx >= endIdx )", "config": { "mode": "variable", "varName": "idx", "operator": ">=", "value": "{endIdx}" }, "next": ["end"], "error": ["select_item"] },

    { "id": "select_item", "type": "ContainerSelectNode", "name": "选择第 idx 个结果项", "config": { "containerName": "search.item", "parentScopeVar": "listScope", "indexVar": "idx", "outScopeVar": "itemScope", "highlight": true, "label": "ITEM", "durationMs": 500, "noScroll": true }, "next": ["anchor_ww"] },

    { "id": "anchor_ww", "type": "ContainerAnchorNode", "name": "锚定旺旺(仅高亮)", "config": { "containerName": "search.item.wangwangLink", "scopeVar": "itemScope", "outScopeVar": "wwScope", "highlight": true, "label": "WW", "durationMs": 500, "noScroll": true }, "next": ["delay"] },

    { "id": "delay", "type": "WaitNode", "name": "间隔(下一个)", "config": { "minMs": "{delayMs}", "maxMs": "{delayMs}" }, "next": ["inc_idx"] },
    { "id": "inc_idx", "type": "JavaScriptExecutionNode", "name": "索引+1", "config": { "script": "(function(){ try{ var i=Number('{idx}')||0; i++; return { success:true, variables:{ idx:i } }; }catch(e){ return { success:false, error:String(e) }; } })();" }, "next": ["loop_check"] },

    { "id": "end", "type": "EndNode", "name": "结束", "config": { "cleanup": false, "saveLogs": true } }
  ],
  "globalConfig": { "timeout": 600000, "logLevel": "info" }
}
