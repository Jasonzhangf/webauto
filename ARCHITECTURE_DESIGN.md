# WebAuto é¡¹ç›®æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

WebAuto æ˜¯ä¸€ä¸ªåŸºäºåˆ†å±‚æ¶æ„çš„ç»¼åˆæ€§ Web è‡ªåŠ¨åŒ–å¹³å°ï¼Œé€šè¿‡ **æ“ä½œå­ â†’ å·¥ä½œæµ â†’ ä»»åŠ¡** çš„ä¸‰å±‚æ¶æ„ï¼Œæä¾›ä»ç®€å•åŸå­æ“ä½œåˆ°å¤æ‚ä¸šåŠ¡é€»è¾‘çš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

## ğŸ—ï¸ æ•´ä½“æ¶æ„è®¾è®¡

### æ¶æ„åˆ†å±‚å›¾ï¼ˆå«é”šç‚¹åè®®ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç¼–æ’å±‚ (Task Layer)                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   è‡ªå®šä¹‰ä»»åŠ¡     â”‚  â”‚   æ¨¡æ¿ä»»åŠ¡     â”‚  â”‚   é¢„å®šä¹‰ä»»åŠ¡     â”‚  â”‚
â”‚  â”‚  Custom Task    â”‚  â”‚ Template Task  â”‚  â”‚  Preset Task    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å·¥ä½œæµç»„åˆå±‚ (Workflow Layer)              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   é“¾æ¥æ•è·       â”‚  â”‚   æ‰¹é‡ä¸‹è½½       â”‚  â”‚   å†…å®¹æ€»ç»“       â”‚  â”‚
â”‚  â”‚ Link Capture    â”‚  â”‚ Batch Download  â”‚  â”‚ Content Summary â”‚  â”‚
â”‚  â”‚    å·¥ä½œæµ       â”‚  â”‚    å·¥ä½œæµ       â”‚  â”‚    å·¥ä½œæµ       â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ“ä½œå­æ‰§è¡Œå±‚ (Operation Layer)            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   æµè§ˆå™¨æ“ä½œ     â”‚  â”‚   æ–‡ä»¶æ“ä½œ       â”‚  â”‚   AIæ¨¡å‹æ“ä½œ     â”‚  â”‚
â”‚  â”‚Browser Operationâ”‚  â”‚ File Operation  â”‚  â”‚  AI Operation   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   é€šä¿¡æ“ä½œ       â”‚  â”‚   æ•°æ®å¤„ç†       â”‚                       â”‚
â”‚  â”‚Comm Operation   â”‚  â”‚ Data Operation  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   æµè§ˆå™¨ç®¡ç†     â”‚  â”‚   ä»»åŠ¡è°ƒåº¦       â”‚  â”‚   äº‹ä»¶ç³»ç»Ÿ       â”‚  â”‚
â”‚  â”‚ Browser Manager â”‚  â”‚Task Scheduler   â”‚  â”‚  Event System   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒè®¾è®¡ç†å¿µ

1. **åˆ†å±‚è§£è€¦**ï¼šæ¯å±‚éƒ½æœ‰æ˜ç¡®çš„èŒè´£è¾¹ç•Œï¼Œæ”¯æŒç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•
2. **ç»„åˆå¤ç”¨**ï¼šä¸Šå±‚é€šè¿‡ç»„åˆä¸‹å±‚ç»„ä»¶å®ç°å¤æ‚åŠŸèƒ½
3. **æ¸è¿›å¤æ‚åº¦**ï¼šç”¨æˆ·å¯ä»¥æ ¹æ®éœ€æ±‚é€‰æ‹©ä¸åŒå±‚æ¬¡çš„æŠ½è±¡
4. **é…ç½®é©±åŠ¨**ï¼šé€šè¿‡ JSON é…ç½®æ–‡ä»¶æ§åˆ¶è¡Œä¸ºï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´

## ğŸ“¦ æ¨¡å—æ¶æ„

### 1. æ“ä½œå­åº“ (Operation Library)

æ“ä½œå­åº“åŒ…å«å…­å¤§ç±»åˆ«çš„åŸå­æ“ä½œï¼Œæ¯ä¸ªæ“ä½œå­éƒ½æ˜¯å¯ç‹¬ç«‹æ‰§è¡Œçš„æœ€å°åŠŸèƒ½å•å…ƒã€‚

#### æµè§ˆå™¨æ“ä½œå­ (Browser Operations)

**èŒè´£**: å¤„ç†æµè§ˆå™¨ç›¸å…³çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬é¡µé¢å¯¼èˆªã€å…ƒç´ æ“ä½œã€å†…å®¹æå–ç­‰

**æ ¸å¿ƒèƒ½åŠ›**:
- é¡µé¢åŠ è½½å’Œå¯¼èˆª
- DOMå…ƒç´ æ“ä½œå’Œäº¤äº’
- å†…å®¹æå–å’Œåˆ†æ
- æµè§ˆå™¨ä¼šè¯ç®¡ç†
- åæ£€æµ‹å’ŒæŒ‡çº¹ç®¡ç†

**åŒ…å«çš„æ“ä½œå­**:
```
browser/
â”œâ”€â”€ navigation/
â”‚   â”œâ”€â”€ PageNavigationOperation     # é¡µé¢å¯¼èˆª
â”‚   â”œâ”€â”€ TabManagementOperation      # æ ‡ç­¾é¡µç®¡ç†
â”‚   â””â”€â”€ HistoryManagementOperation  # å†å²è®°å½•ç®¡ç†
â”œâ”€â”€ interaction/
â”‚   â”œâ”€â”€ ElementClickOperation       # å…ƒç´ ç‚¹å‡»
â”‚   â”œâ”€â”€ FormFillOperation          # è¡¨å•å¡«å†™
â”‚   â”œâ”€â”€ ScrollOperation            # é¡µé¢æ»šåŠ¨
â”‚   â””â”€â”€ ScreenshotOperation       # æˆªå›¾æ“ä½œ
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ ContentExtractionOperation # å†…å®¹æå–
â”‚   â”œâ”€â”€ LinkExtractionOperation    # é“¾æ¥æå–
â”‚   â”œâ”€â”€ ImageExtractionOperation   # å›¾ç‰‡æå–
â”‚   â””â”€â”€ VideoExtractionOperation   # è§†é¢‘æå–
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ PageStructureOperation     # é¡µé¢ç»“æ„åˆ†æ
â”‚   â”œâ”€â”€ ElementAnalysisOperation   # å…ƒç´ åˆ†æ
â”‚   â””â”€â”€ ContentAnalysisOperation  # å†…å®¹åˆ†æ
â””â”€â”€ session/
    â”œâ”€â”€ SessionManagementOperation # ä¼šè¯ç®¡ç†
    â”œâ”€â”€ CookieManagementOperation  # Cookieç®¡ç†
    â””â”€â”€ AntiDetectionOperation     # åæ£€æµ‹æ“ä½œ
```

### 2. æ–‡ä»¶æ“ä½œå­ (File Operations)

**èŒè´£**: å¤„ç†æ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æ–‡ä»¶è¯»å†™ã€æ ¼å¼è½¬æ¢ã€å­˜å‚¨ç®¡ç†ç­‰

**æ ¸å¿ƒèƒ½åŠ›**:
- æ–‡ä»¶è¯»å†™æ“ä½œ
- ç›®å½•ç»“æ„ç®¡ç†
- æ•°æ®æ ¼å¼è½¬æ¢
- å­˜å‚¨å’Œå¤‡ä»½
- å‹ç¼©å’Œè§£å‹

**åŒ…å«çš„æ“ä½œå­**:
```
file/
â”œâ”€â”€ basic/
â”‚   â”œâ”€â”€ FileReadOperation          # æ–‡ä»¶è¯»å–
â”‚   â”œâ”€â”€ FileWriteOperation         # æ–‡ä»¶å†™å…¥
â”‚   â”œâ”€â”€ FileDeleteOperation        # æ–‡ä»¶åˆ é™¤
â”‚   â””â”€â”€ FileCopyOperation         # æ–‡ä»¶å¤åˆ¶
â”œâ”€â”€ directory/
â”‚   â”œâ”€â”€ DirectoryCreateOperation   # ç›®å½•åˆ›å»º
â”‚   â”œâ”€â”€ DirectoryListOperation     # ç›®å½•åˆ—è¡¨
â”‚   â”œâ”€â”€ DirectoryDeleteOperation  # ç›®å½•åˆ é™¤
â”‚   â””â”€â”€ DirectoryMoveOperation    # ç›®å½•ç§»åŠ¨
â”œâ”€â”€ format/
â”‚   â”œâ”€â”€ JSONOperation             # JSONæ ¼å¼å¤„ç†
â”‚   â”œâ”€â”€ CSVOperation              # CSVæ ¼å¼å¤„ç†
â”‚   â”œâ”€â”€ XMLOperation              # XMLæ ¼å¼å¤„ç†
â”‚   â””â”€â”€ MarkdownOperation         # Markdownæ ¼å¼å¤„ç†
â”œâ”€â”€ compression/
â”‚   â”œâ”€â”€ ZipOperation              # ZIPå‹ç¼©
â”‚   â”œâ”€â”€ GzipOperation             # Gzipå‹ç¼©
â”‚   â””â”€â”€ TarOperation              # Tarå‹ç¼©
â””â”€â”€ storage/
    â”œâ”€â”€ LocalStorageOperation      # æœ¬åœ°å­˜å‚¨
    â”œâ”€â”€ CloudStorageOperation      # äº‘å­˜å‚¨
    â””â”€â”€ BackupOperation           # å¤‡ä»½æ“ä½œ
```

### 3. AIæ¨¡å‹æ“ä½œå­ (AI Model Operations)

**èŒè´£**: å¤„ç†AIæ¨¡å‹ç›¸å…³çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬æ¨¡å‹è°ƒç”¨ã€æ¨ç†å¤„ç†ã€ç»“æœåˆ†æç­‰

**æ ¸å¿ƒèƒ½åŠ›**:
- æ¨¡å‹è°ƒç”¨å’Œç®¡ç†
- æ–‡æœ¬æ¨ç†å’Œå¤„ç†
- å›¾åƒåˆ†æå’Œè¯†åˆ«
- ç»“æœéªŒè¯å’Œä¼˜åŒ–
- å¤šæ¨¡æ€å¤„ç†

**åŒ…å«çš„æ“ä½œå­**:
```
ai/
â”œâ”€â”€ inference/
â”‚   â”œâ”€â”€ TextInferenceOperation    # æ–‡æœ¬æ¨ç†
â”‚   â”œâ”€â”€ ImageInferenceOperation   # å›¾åƒæ¨ç†
â”‚   â”œâ”€â”€ MultiModalOperation       # å¤šæ¨¡æ€æ¨ç†
â”‚   â””â”€â”€ BatchInferenceOperation   # æ‰¹é‡æ¨ç†
â”œâ”€â”€ processing/
â”‚   â”œâ”€â”€ TextProcessingOperation   # æ–‡æœ¬å¤„ç†
â”‚   â”œâ”€â”€ ImageProcessingOperation  # å›¾åƒå¤„ç†
â”‚   â”œâ”€â”€ AudioProcessingOperation  # éŸ³é¢‘å¤„ç†
â”‚   â””â”€â”€ VideoProcessingOperation  # è§†é¢‘å¤„ç†
â”œâ”€â”€ analysis/
â”‚   â”œâ”€â”€ ContentAnalysisOperation  # å†…å®¹åˆ†æ
â”‚   â”œâ”€â”€ SentimentAnalysisOperation # æƒ…æ„Ÿåˆ†æ
â”‚   â”œâ”€â”€ EntityRecognitionOperation # å®ä½“è¯†åˆ«
â”‚   â””â”€â”€ QualityAnalysisOperation  # è´¨é‡åˆ†æ
â”œâ”€â”€ optimization/
â”‚   â”œâ”€â”€ PromptOptimizationOperation # æç¤ºè¯ä¼˜åŒ–
â”‚   â”œâ”€â”€ ModelSelectionOperation    # æ¨¡å‹é€‰æ‹©
â”‚   â””â”€â”€ ResultOptimizationOperation # ç»“æœä¼˜åŒ–
â””â”€â”€ management/
    â”œâ”€â”€ ModelManagementOperation  # æ¨¡å‹ç®¡ç†
    â”œâ”€â”€ CacheManagementOperation  # ç¼“å­˜ç®¡ç†
    â””â”€â”€ ResourceManagementOperation # èµ„æºç®¡ç†
```

### 4. é€šä¿¡ç³»ç»Ÿæ“ä½œå­ (Communication Operations)

**èŒè´£**: å¤„ç†é€šä¿¡ç›¸å…³çš„æ‰€æœ‰æ“ä½œï¼ŒåŒ…æ‹¬ç½‘ç»œè¯·æ±‚ã€APIè°ƒç”¨ã€æ¶ˆæ¯ä¼ é€’ç­‰

**æ ¸å¿ƒèƒ½åŠ›**:
- HTTPè¯·æ±‚å¤„ç†
- APIå®¢æˆ·ç«¯ç®¡ç†
- æ¶ˆæ¯é˜Ÿåˆ—æ“ä½œ
- å®æ—¶é€šä¿¡
- åè®®è½¬æ¢

**åŒ…å«çš„æ“ä½œå­**:
```
communication/
â”œâ”€â”€ http/
â”‚   â”œâ”€â”€ HttpRequestOperation      # HTTPè¯·æ±‚
â”‚   â”œâ”€â”€ HttpResponseOperation     # HTTPå“åº”
â”‚   â”œâ”€â”€ APIClientOperation        # APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ WebhookOperation          # Webhookå¤„ç†
â”œâ”€â”€ messaging/
â”‚   â”œâ”€â”€ MessageQueueOperation    # æ¶ˆæ¯é˜Ÿåˆ—
â”‚   â”œâ”€â”€ PubSubOperation          # å‘å¸ƒè®¢é˜…
â”‚   â”œâ”€â”€ StreamingOperation       # æµå¼ä¼ è¾“
â”‚   â””â”€â”€ BroadcastOperation       # å¹¿æ’­æ“ä½œ
â”œâ”€â”€ protocol/
â”‚   â”œâ”€â”€ RestAPIOperation         # REST API
â”‚   â”œâ”€â”€ GraphQLOperation         # GraphQL
â”‚   â”œâ”€â”€ WebSocketOperation       # WebSocket
â”‚   â””â”€â”€ MCIPOperation            # MCPåè®®
â”œâ”€â”€ auth/
â”‚   â”œâ”€â”€ AuthenticationOperation  # èº«ä»½éªŒè¯
â”‚   â”œâ”€â”€ AuthorizationOperation   # æˆæƒç®¡ç†
â”‚   â”œâ”€â”€ TokenManagementOperation # ä»¤ç‰Œç®¡ç†
â”‚   â””â”€â”€ SecurityOperation        # å®‰å…¨æ“ä½œ
â””â”€â”€ monitoring/
    â”œâ”€â”€ HealthCheckOperation     # å¥åº·æ£€æŸ¥
    â”œâ”€â”€ MetricsOperation         # æŒ‡æ ‡æ”¶é›†
    â”œâ”€â”€ LoggingOperation         # æ—¥å¿—æ“ä½œ
    â””â”€â”€ AlertOperation           # å‘Šè­¦æ“ä½œ
```

## æ¶æ„ä¼˜åŠ¿

### 1. æ¸…æ™°çš„èŒè´£åˆ†ç¦»
- æ¯ä¸ªç±»åˆ«ä¸“æ³¨äºç‰¹å®šçš„æ“ä½œå¯¹è±¡
- å‡å°‘ç±»ä¹‹é—´çš„è€¦åˆ
- æé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§

### 2. æ˜“äºæ‰©å±•
- æ–°å¢æ“ä½œå­æ—¶æ˜ç¡®å½’å±ç±»åˆ«
- æ”¯æŒæ’ä»¶åŒ–æ¶æ„
- ä¾¿äºç¬¬ä¸‰æ–¹æ‰©å±•

### 3. æ›´å¥½çš„æµ‹è¯•æ€§
- æŒ‰ç±»åˆ«è¿›è¡Œå•å…ƒæµ‹è¯•
- æ¨¡æ‹Ÿä¾èµ–æ›´åŠ æ¸…æ™°
- é›†æˆæµ‹è¯•æ›´æœ‰é’ˆå¯¹æ€§

### 4. é…ç½®é©±åŠ¨
- æ¯ä¸ªç±»åˆ«å¯ä»¥æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶
- æ”¯æŒåŠ¨æ€åŠ è½½å’Œé…ç½®
- ä¾¿äºç¯å¢ƒåˆ‡æ¢

## å·¥ä½œæµç¼–æ’

### æ“ä½œå­ç¼–æ’æ¨¡å¼
```
Workflow Engine
â”œâ”€â”€ Preflowsï¼ˆç™»å½•/ç¯å¢ƒï¼‰
â”œâ”€â”€ Anchor Flowï¼ˆå…¥ç«™é”šç‚¹ï¼šStartâ†’AttachSessionâ†’AnchorPointNodeâ†’Endï¼‰
â”œâ”€â”€ Browser Operations â†’ Page Navigation â†’ Content Extraction
â”œâ”€â”€ File Operations â†’ Data Storage â†’ Format Conversion  
â”œâ”€â”€ AI Operations â†’ Content Analysis â†’ Result Processing
â””â”€â”€ Communication Operations â†’ API Calls â†’ Data Transmission
```

### æ•°æ®æµå‘
```
Input â†’ Preflows â†’ Anchor(Top) â†’ Workflow Nodes â†’ Stage Anchor(s) â†’
Results â†’ Save/Relay â†’ Output

## é”šç‚¹åè®®ï¼ˆAnchor Protocolï¼‰

### ä¸ºä»€ä¹ˆéœ€è¦
å¤æ‚ç«™ç‚¹ï¼ˆä¾‹å¦‚ 1688ï¼‰å­˜åœ¨é£æ§ä¸è·³é¡µå»¶è¿Ÿï¼Œè‹¥ç›´æ¥æ‰§è¡ŒèŠ‚ç‚¹æ˜“è¯¯è§¦ã€‚é”šç‚¹åè®®é€šè¿‡â€œé¡µé¢çº§å®šä½å…ƒç´ â€ä½œä¸ºå…¥ç«™é—¨æ§›ï¼Œç¡®ä¿â€œåœ¨å¯¹çš„é¡µé¢/å®¹å™¨ä¸Šç»§ç»­â€ã€‚

### å¦‚ä½•ä½¿ç”¨
- é¡¶å±‚é”šç‚¹ï¼šåœ¨å·¥ä½œæµ JSON é¡¶å±‚å£°æ˜ `anchor`ï¼ˆhost/urlPattern/frame/selectors/textIncludes/requireVisible ç­‰ï¼‰ï¼ŒRunner ä¼šè‡ªåŠ¨åœ¨ä¸»æµå‰æ‰§è¡Œé”šç‚¹æ£€æŸ¥å°æµï¼›
- é˜¶æ®µé”šç‚¹ï¼šåœ¨å…³é”®æ­¥éª¤æ˜¾å¼åŠ å…¥ `AnchorPointNode`ï¼›
- å¤±è´¥å¤„ç†ï¼šæœªå‘½ä¸­é”šç‚¹ç›´æ¥åœæ­¢ä¸»æµï¼Œä¿ç•™é¡µé¢ä¾›äººå·¥è§£é™¤é£æ§åå¤è·‘ã€‚

### ä¸æ¥åŠ›çš„å…³ç³»
é”šç‚¹åè®®ä¸ºæ¯ä¸€æ¬¡æ¥åŠ›æä¾›â€œå…¥å£çº¦æŸâ€ï¼Œç»“åˆ `AttachSessionNode` å’Œ CookieManagerï¼Œä¿è¯åŒä¸€ä¼šè¯å†…çš„ä¸Šä¸‹æ–‡è¿è´¯ä¸å®‰å…¨ã€‚
```

### 2. å·¥ä½œæµæ¡†æ¶ (Workflow Framework)

å·¥ä½œæµæ¡†æ¶è´Ÿè´£å°†å¤šä¸ªæ“ä½œå­ç»„åˆæˆå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ”¯æŒä¾èµ–ç®¡ç†ã€é”™è¯¯å¤„ç†å’Œæ¡ä»¶æ‰§è¡Œã€‚

#### å·¥ä½œæµå®šä¹‰æ ¼å¼

```json
{
  "workflowId": "weibo-batch-download-workflow",
  "name": "å¾®åšæ‰¹é‡ä¸‹è½½å·¥ä½œæµ",
  "description": "ä»å¾®åšä¸ªäººä¸»é¡µæ‰¹é‡ä¸‹è½½å¸–å­ã€å›¾ç‰‡å’Œè¯„è®º",
  "version": "1.0.0",
  "category": "weibo",
  "tags": ["download", "batch", "media"],

  "input": {
    "required": ["profileUrl"],
    "optional": ["maxPosts", "mediaQuality", "includeComments"],
    "defaults": {
      "maxPosts": 50,
      "mediaQuality": "original",
      "includeComments": true
    }
  },

  "operations": [
    {
      "id": "initialize-browser",
      "name": "åˆå§‹åŒ–æµè§ˆå™¨",
      "operation": "NavigateOperation",
      "config": {
        "url": "${profileUrl}",
        "waitForSelector": ".WB_cardwrap",
        "timeout": 30000
      },
      "output": ["page"],
      "onError": "retry"
    },
    {
      "id": "extract-posts",
      "name": "æå–å¸–å­åˆ—è¡¨",
      "operation": "ExtractContentOperation",
      "dependsOn": ["initialize-browser"],
      "config": {
        "selector": ".Feed_body_3R0rO",
        "multiple": true,
        "extract": ["content", "time", "stats"]
      },
      "output": ["posts"]
    },
    {
      "id": "download-media",
      "name": "ä¸‹è½½åª’ä½“æ–‡ä»¶",
      "operation": "DownloadMediaOperation",
      "dependsOn": ["extract-posts"],
      "config": {
        "quality": "${mediaQuality}",
        "concurrency": 5,
        "timeout": 60000
      },
      "parallel": true
    }
  ],

  "errorHandling": {
    "strategy": "continue-on-error",
    "maxRetries": 3,
    "retryDelay": 5000
  }
}
```

#### å·¥ä½œæµæ‰§è¡Œå¼•æ“

```javascript
class WorkflowEngine {
  constructor() {
    this.operations = new Map();
    this.dependencyGraph = new Map();
  }

  async executeWorkflow(workflowConfig, input = {}) {
    const executionId = this.generateExecutionId();
    const context = new ExecutionContext(executionId, input);

    try {
      // æ„å»ºä¾èµ–å›¾
      await this.buildDependencyGraph(workflowConfig.operations);

      // æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œ
      const sortedOperations = this.topologicalSort(workflowConfig.operations);

      for (const operationConfig of sortedOperations) {
        await this.executeOperation(operationConfig, context);
      }

      return {
        success: true,
        executionId,
        results: context.getResults()
      };

    } catch (error) {
      await this.handleError(error, context, workflowConfig.errorHandling);
      throw error;
    }
  }
}
```

### 3. ä»»åŠ¡ç¼–æ’ç³»ç»Ÿ (Task Orchestration)

ä»»åŠ¡ç¼–æ’ç³»ç»Ÿæ˜¯æœ€é«˜å±‚çš„æŠ½è±¡ï¼Œå…è®¸ç”¨æˆ·ç»„åˆå¤šä¸ªå·¥ä½œæµå®Œæˆå¤æ‚çš„ä¸šåŠ¡ç›®æ ‡ã€‚

#### ä»»åŠ¡å®šä¹‰æ ¼å¼

```json
{
  "taskId": "weibo-complete-monitoring-task",
  "name": "å¾®åšå®Œæ•´ç›‘æ§ä»»åŠ¡",
  "description": "æŒç»­ç›‘æ§å¾®åšç”¨æˆ·å¹¶è‡ªåŠ¨ä¸‹è½½æ–°å†…å®¹",
  "template": "weibo-monitoring-template",

  "schedule": {
    "type": "cron",
    "expression": "0 */2 * * *",  // æ¯2å°æ—¶æ‰§è¡Œ
    "timezone": "Asia/Shanghai",
    "enabled": true
  },

  "workflows": [
    {
      "id": "monitoring",
      "name": "å†…å®¹ç›‘æ§",
      "workflow": "weibo-content-monitoring-workflow",
      "config": {
        "targetUrl": "https://weibo.com/1671109627",
        "changeThreshold": 0.1
      },
      "execution": {
        "timeout": 300000,
        "priority": "high"
      }
    },
    {
      "id": "download",
      "name": "æ‰¹é‡ä¸‹è½½",
      "workflow": "weibo-batch-download-workflow",
      "dependsOn": ["monitoring"],
      "condition": {
        "type": "content-change",
        "threshold": 0.05
      },
      "inputFrom": "monitoring.output"
    },
    {
      "id": "notification",
      "name": "ç»“æœé€šçŸ¥",
      "workflow": "weibo-notification-workflow",
      "dependsOn": ["download"],
      "inputFrom": "download.output",
      "config": {
        "channels": ["email", "webhook"]
      }
    }
  ],

  "errorHandling": {
    "strategy": "continue-on-error",
    "maxRetries": 3,
    "notificationOnFailure": true
  }
}
```

#### ä»»åŠ¡ç¼–æ’å™¨

```javascript
class TaskOrchestrator {
  constructor(config) {
    this.scheduler = new TaskScheduler();
    this.workflowEngine = new WorkflowEngine();
    this.resourceManager = new ResourceManager();
    this.tasks = new Map();
    this.templates = new Map();
  }

  async executeTask(taskId, input = {}) {
    const task = this.tasks.get(taskId);
    const executionId = this.generateExecutionId();
    const execution = new TaskExecution(executionId, task, input);

    try {
      // æŒ‰ä¾èµ–é¡ºåºæ‰§è¡Œå·¥ä½œæµ
      const workflowResults = await this.executeTaskWorkflows(task, execution);

      execution.complete('success', workflowResults);
      return workflowResults;

    } catch (error) {
      execution.complete('failed', { error: error.message });
      throw error;
    }
  }
}
```

## ğŸ› ï¸ å®ç°è·¯çº¿å›¾

### Phase 1: æ ¸å¿ƒæ¡†æ¶å¼€å‘ (4-6å‘¨)
- [ ] å®ç°æ“ä½œå­åŸºç¡€æ¡†æ¶
- [ ] å®ç°å·¥ä½œæµå¼•æ“
- [ ] å®ç°åŸºç¡€æ“ä½œå­ (æµè§ˆå™¨ã€æ–‡ä»¶ã€æ•°æ®å¤„ç†)
- [ ] å®ç°ç®€å•ä»»åŠ¡ç¼–æ’å™¨
- [ ] åŸºç¡€æµ‹è¯•å’Œæ–‡æ¡£

### Phase 2: é«˜çº§åŠŸèƒ½å¼€å‘ (3-4å‘¨)
- [ ] å®ç°ä»»åŠ¡è°ƒåº¦ç³»ç»Ÿ (Cronã€é—´éš”ã€äº‹ä»¶)
- [ ] å®ç°ä»»åŠ¡æ¨¡æ¿ç³»ç»Ÿ
- [ ] å®ç°äº‹ä»¶é©±åŠ¨æ¶æ„
- [ ] å®ç°èµ„æºç®¡ç†å’Œç›‘æ§
- [ ] é«˜çº§å·¥ä½œæµåŠŸèƒ½ (æ¡ä»¶æ‰§è¡Œã€å¹¶è¡Œå¤„ç†)

### Phase 3: ä¸šåŠ¡åœºæ™¯å®ç° (2-3å‘¨)
- [ ] å®ç°å¾®åšç›¸å…³çš„å…·ä½“æ“ä½œå­
- [ ] å®ç°å¾®åšå·¥ä½œæµæ¨¡æ¿
- [ ] å®ç°å®Œæ•´çš„ç›‘æ§å’Œä¸‹è½½ä»»åŠ¡
- [ ] å®ç°AIæ€»ç»“å’Œé€šçŸ¥åŠŸèƒ½

### Phase 4: ä¼˜åŒ–å’Œå¢å¼º (2-3å‘¨)
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå†…å­˜ç®¡ç†
- [ ] é”™è¯¯å¤„ç†å’Œå®¹é”™æœºåˆ¶
- [ ] ç”¨æˆ·ç•Œé¢å’Œç®¡ç†å·¥å…·
- [ ] éƒ¨ç½²å’Œè¿ç»´æ”¯æŒ

### Phase 5: ç”Ÿæ€æ‰©å±• (2-3å‘¨)
- [ ] æ›´å¤šæ“ä½œå­ç±»å‹
- [ ] æ›´å¤šå·¥ä½œæµæ¨¡æ¿
- [ ] ç¬¬ä¸‰æ–¹é›†æˆæ‰©å±•
- [ ] ç¤¾åŒºæ–‡æ¡£å’Œç¤ºä¾‹

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
webauto/
â”œâ”€â”€ README.md                           # é¡¹ç›®æ¦‚è¿°
â”œâ”€â”€ ARCHITECTURE_DESIGN.md              # æ¶æ„è®¾è®¡æ–‡æ¡£
â”œâ”€â”€ package.json                        # æ ¹åŒ…é…ç½®
â”œâ”€â”€ tsconfig.json                       # TypeScript é…ç½®
â”‚
â”œâ”€â”€ sharedmodule/                       # å…±äº«æ¨¡å—ç›®å½•
â”‚   â”œâ”€â”€ operations-framework/           # æ“ä½œå­æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ BaseOperation.ts    # æ“ä½œå­åŸºç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ OperationContext.ts # æ“ä½œä¸Šä¸‹æ–‡
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ OperationRegistry.ts # æ“ä½œå­æ³¨å†Œå™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ operations/             # å†…ç½®æ“ä½œå­
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ browser/            # æµè§ˆå™¨æ“ä½œå­
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ data/               # æ•°æ®å¤„ç†æ“ä½œå­
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ file/               # æ–‡ä»¶æ“ä½œå­
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ network/            # ç½‘ç»œæ“ä½œå­
â”‚   â”‚   â”‚   â””â”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ config/                     # é…ç½®æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ tests/                      # æµ‹è¯•æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ workflow-framework/             # å·¥ä½œæµæ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WorkflowEngine.ts   # å·¥ä½œæµå¼•æ“
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ WorkflowDefinition.ts # å·¥ä½œæµå®šä¹‰
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ DependencyManager.ts # ä¾èµ–ç®¡ç†å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ workflows/                 # é¢„å®šä¹‰å·¥ä½œæµ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ weibo/                  # å¾®åšç›¸å…³å·¥ä½œæµ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ general/                # é€šç”¨å·¥ä½œæµ
â”‚   â”‚   â”‚   â””â”€â”€ tests/                      # å·¥ä½œæµæµ‹è¯•
â”‚   â”‚
â”‚   â”œâ”€â”€ task-orchestrator/              # ä»»åŠ¡ç¼–æ’å™¨
â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”œâ”€â”€ core/                   # æ ¸å¿ƒç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TaskOrchestrator.ts  # ä»»åŠ¡ç¼–æ’å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ TaskScheduler.ts    # ä»»åŠ¡è°ƒåº¦å™¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ TaskTemplate.ts     # ä»»åŠ¡æ¨¡æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ templates/              # ä»»åŠ¡æ¨¡æ¿
â”‚   â”‚   â”‚   â””â”€â”€ tests/                  # ä»»åŠ¡æµ‹è¯•
â”‚   â”‚
â”‚   â””â”€â”€ common/                         # å…¬å…±æ¨¡å—
â”‚       â”œâ”€â”€ src/
â”‚       â”‚   â”œâ”€â”€ logger/                 # æ—¥å¿—ç³»ç»Ÿ
â”‚       â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚       â”‚   â”œâ”€â”€ types/                  # ç±»å‹å®šä¹‰
â”‚       â”‚   â””â”€â”€ constants/              # å¸¸é‡å®šä¹‰
â”‚
â”œâ”€â”€ examples/                           # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ basic-operations/               # åŸºç¡€æ“ä½œå­ç¤ºä¾‹
â”‚   â”œâ”€â”€ simple-workflows/               # ç®€å•å·¥ä½œæµç¤ºä¾‹
â”‚   â””â”€â”€ task-templates/                 # ä»»åŠ¡æ¨¡æ¿ç¤ºä¾‹
â”‚
â””â”€â”€ docs/                              # æ–‡æ¡£ç›®å½•
    â”œâ”€â”€ user-guide/                     # ç”¨æˆ·æŒ‡å—
    â”œâ”€â”€ developer-guide/                # å¼€å‘è€…æŒ‡å—
    â””â”€â”€ api-reference/                  # API å‚è€ƒ
```

## ğŸ¯ æˆåŠŸæŒ‡æ ‡

### æŠ€æœ¯æŒ‡æ ‡
- **æ€§èƒ½**: å•ä¸ªå·¥ä½œæµæ‰§è¡Œæ—¶é—´ < 5åˆ†é’Ÿ
- **å¯é æ€§**: ç³»ç»Ÿå¯ç”¨æ€§ > 99.5%
- **æ‰©å±•æ€§**: æ”¯æŒ 100+ å¹¶å‘ä»»åŠ¡
- **å†…å­˜ä½¿ç”¨**: å•ä»»åŠ¡å†…å­˜å ç”¨ < 500MB

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡
- **æ˜“ç”¨æ€§**: æ–°ç”¨æˆ· 30 åˆ†é’Ÿå†…å®Œæˆç¬¬ä¸€ä¸ªä»»åŠ¡
- **çµæ´»æ€§**: æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰å·¥ä½œæµå’Œä»»åŠ¡
- **å¯è§‚å¯Ÿæ€§**: å®Œæ•´çš„æ‰§è¡Œæ—¥å¿—å’Œç›‘æ§
- **æ–‡æ¡£å®Œæ•´æ€§**: 95% çš„åŠŸèƒ½æœ‰è¯¦ç»†æ–‡æ¡£

## é…ç½®ç¤ºä¾‹

### æ“ä½œå­é…ç½®æ–‡ä»¶ç»“æ„
```json
{
  "categories": {
    "browser": {
      "enabled": true,
      "operations": {
        "navigation": {
          "timeout": 30000,
          "retryAttempts": 3
        },
        "interaction": {
          "defaultDelay": 1000,
          "antiDetection": true
        }
      }
    },
    "file": {
      "enabled": true,
      "storagePath": "./data",
      "backupEnabled": true
    },
    "ai": {
      "enabled": true,
      "defaultModel": "gpt-4",
      "cacheEnabled": true
    },
    "communication": {
      "enabled": true,
      "apiTimeout": 10000,
      "retryAttempts": 3
    }
  }
}
```

### å·¥ä½œæµé…ç½®ç¤ºä¾‹
```json
{
  "workflow": {
    "name": "å¾®åšå†…å®¹æŠ“å–",
    "steps": [
      {
        "category": "browser",
        "operation": "navigation",
        "action": "navigate",
        "params": {
          "url": "https://weibo.com/example"
        }
      },
      {
        "category": "browser", 
        "operation": "content",
        "action": "extract",
        "params": {
          "contentType": "posts"
        }
      },
      {
        "category": "ai",
        "operation": "analysis",
        "action": "analyze",
        "params": {
          "analysisType": "sentiment"
        }
      },
      {
        "category": "file",
        "operation": "storage",
        "action": "save",
        "params": {
          "format": "json",
          "path": "./results/"
        }
      }
    ]
  }
}
```
